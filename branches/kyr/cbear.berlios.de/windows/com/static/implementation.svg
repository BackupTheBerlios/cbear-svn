<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://web.resource.org/cc/"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://inkscape.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="1052.3622px"
   height="1488.1890px"
   id="svg2"
   sodipodi:version="0.32"
   inkscape:version="0.42.2"
   sodipodi:docbase="C:\cbear.berlios.de\com"
   sodipodi:docname="static_implementation.svg">
  <defs
     id="defs4" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="0.98994949"
     inkscape:cx="504.66471"
     inkscape:cy="444.07754"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     inkscape:window-width="1290"
     inkscape:window-height="1029"
     inkscape:window-x="-4"
     inkscape:window-y="-4" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <rect
       style="fill:#ffbebe;fill-opacity:1.0000000;stroke:#03ff00;stroke-width:1.4557594;stroke-miterlimit:4.0000000;stroke-dasharray:none;stroke-dashoffset:0.00000000;stroke-opacity:1.0000000"
       id="rect1391"
       width="987.45233"
       height="249.98222"
       x="6.2993708"
       y="599.07147" />
    <rect
       style="fill:#ffffd4;fill-opacity:1.0000000;stroke:#ff0000;stroke-width:0.92334515;stroke-miterlimit:4.0000000;stroke-dasharray:0.92334519 2.7700354 ;stroke-dashoffset:0.00000000;stroke-opacity:1.0000000"
       id="rect2849"
       width="693.01910"
       height="139.43921"
       x="35.328125"
       y="104.82000" />
    <rect
       style="fill:#ffffd4;fill-opacity:1.0000000;stroke:#ff0000;stroke-width:1.4504238;stroke-miterlimit:4.0000000;stroke-dasharray:1.4504239 4.3512714 ;stroke-dashoffset:0.00000000;stroke-opacity:1.0000000"
       id="rect3577"
       width="579.03076"
       height="411.80365"
       x="29.187748"
       y="869.18872" />
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="55.558388"
       y="126.0523"
       id="text1306"><tspan
         sodipodi:role="line"
         id="tspan1308"
         x="55.558388"
         y="126.05230">class A: public IUnknown</tspan><tspan
         sodipodi:role="line"
         x="55.558388"
         y="141.05230"
         id="tspan1338">{</tspan><tspan
         sodipodi:role="line"
         x="55.558388"
         y="156.05230"
         id="tspan2839">public:</tspan><tspan
         sodipodi:role="line"
         x="55.558388"
         y="171.05230"
         id="tspan1378">  virtual int F() = 0;</tspan><tspan
         sodipodi:role="line"
         x="55.558388"
         y="186.05230"
         id="tspan1342">};</tspan><tspan
         sodipodi:role="line"
         x="55.558388"
         y="201.05230"
         id="tspan1336" /><tspan
         sodipodi:role="line"
         x="55.558388"
         y="216.05230"
         id="tspan1334" /></text>
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="407.09146"
       y="127.06246"
       id="text1310"><tspan
         sodipodi:role="line"
         id="tspan1312"
         x="407.09146"
         y="127.06246">class B: public IUnknown</tspan><tspan
         sodipodi:role="line"
         x="407.09146"
         y="142.06246"
         id="tspan1344">{</tspan><tspan
         sodipodi:role="line"
         x="407.09146"
         y="157.06246"
         id="tspan2837">public:</tspan><tspan
         sodipodi:role="line"
         x="407.09146"
         y="172.06246"
         id="tspan1346">  virtual int F() = 0;</tspan><tspan
         sodipodi:role="line"
         x="407.09146"
         y="187.06246"
         id="tspan1348">};</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="257.5889"
       y="15.945666"
       id="text1314"><tspan
         sodipodi:role="line"
         x="257.58890"
         y="15.945666"
         id="tspan1357">class IUnknown</tspan><tspan
         sodipodi:role="line"
         x="257.58890"
         y="30.945666"
         id="tspan1383">{</tspan><tspan
         sodipodi:role="line"
         x="257.58890"
         y="45.945666"
         id="tspan1387">  virtual ULONG AddRef() = 0;</tspan><tspan
         sodipodi:role="line"
         x="257.58890"
         y="60.945666"
         id="tspan1389">  virtual ULONG Release() = 0;</tspan><tspan
         sodipodi:role="line"
         x="257.58890"
         y="75.945666"
         id="tspan1475">  virtual HRESULT QueryInterface(REFIID, void**) = 0;</tspan><tspan
         sodipodi:role="line"
         x="257.58890"
         y="90.945666"
         id="tspan1385">};</tspan></text>
    <path
       style="fill:none;fill-opacity:0.75000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000"
       d="M 215.16249,122.01168 L 321.22851,84.636042"
       id="path1318"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-opacity:0.75000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000"
       d="M 335.37064,83.625887 L 402.04071,123.02183"
       id="path1320"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="25.253813"
       y="622.03717"
       id="text1322"><tspan
         sodipodi:role="line"
         id="tspan1324"
         x="25.253813"
         y="622.03717">template&lt;class Implementation, class Base&gt;</tspan><tspan
         sodipodi:role="line"
         x="25.253813"
         y="637.03717"
         id="tspan5063">class implementation&lt;Implementation, Base, A&gt;: </tspan><tspan
         sodipodi:role="line"
         x="25.253813"
         y="652.03717"
         id="tspan2859">  public implementation_base&lt;Implementation, Base, A, IUnknown&gt;</tspan><tspan
         sodipodi:role="line"
         x="25.253813"
         y="667.03717"
         id="tspan1350">{</tspan><tspan
         sodipodi:role="line"
         x="25.253813"
         y="682.03717"
         id="tspan1376">public:</tspan><tspan
         sodipodi:role="line"
         x="25.253813"
         y="697.03717"
         id="tspan1358">  int F() { return this-&gt;get_implementation().A_F(); }</tspan><tspan
         sodipodi:role="line"
         x="25.253813"
         y="712.03717"
         id="tspan1352">};</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="615.18286"
       y="738.20465"
       id="text1330"><tspan
         sodipodi:role="line"
         id="tspan1332"
         x="615.18286"
         y="738.20465">template&lt;class Implementaion, class Base&gt;</tspan><tspan
         sodipodi:role="line"
         x="615.18286"
         y="753.20465"
         id="tspan5065">class implementation&lt;Implementation, Base, C&gt;: </tspan><tspan
         sodipodi:role="line"
         x="615.18286"
         y="768.20465"
         id="tspan2861">  public implementation_base&lt;Implementation, Base, C, B&gt;</tspan><tspan
         sodipodi:role="line"
         x="615.18286"
         y="783.20465"
         id="tspan1362">{</tspan><tspan
         sodipodi:role="line"
         x="615.18286"
         y="798.20465"
         id="tspan1374">public:</tspan><tspan
         sodipodi:role="line"
         x="615.18286"
         y="813.20465"
         id="tspan1370">  int FF() { return this-&gt;get_implementation().C_FF(); }</tspan><tspan
         sodipodi:role="line"
         x="615.18286"
         y="828.20465"
         id="tspan1364">};</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="176.7767"
       y="264.44321"
       id="text1380"><tspan
         sodipodi:role="line"
         id="tspan1382"
         x="176.77670"
         y="264.44321">class implementation_info</tspan><tspan
         sodipodi:role="line"
         x="176.77670"
         y="279.44321"
         id="tspan1384">{</tspan><tspan
         sodipodi:role="line"
         x="176.77670"
         y="294.44321"
         id="tspan2101">protected:</tspan><tspan
         sodipodi:role="line"
         x="176.77670"
         y="309.44321"
         id="tspan2103">  HRESULT query_interface(REFIID, void**);</tspan><tspan
         sodipodi:role="line"
         x="176.77670"
         y="324.44321"
         id="tspan1367">  void add_interface(uuid, void *);</tspan><tspan
         sodipodi:role="line"
         x="176.77670"
         y="339.44321"
         id="tspan1386">};</tspan></text>
    <path
       style="fill:#000000;fill-opacity:1.0000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4.0000000;stroke-dasharray:1.0000000 2.0000000 ;stroke-dashoffset:0.00000000;stroke-opacity:1.0000000"
       d="M 265.67011,335.15388 L 266.68026,359.39753"
       id="path1392"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="221.22342"
       y="892.75812"
       id="text4302"><tspan
         sodipodi:role="line"
         id="tspan4304"
         x="221.22342"
         y="892.75812">class Implementation:</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="907.75812"
         id="tspan2947">  public implementation&lt;Implementation, A&gt;,</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="922.75812"
         id="tspan2949">  public implementation&lt;Implementation, C&gt;</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="937.75812"
         id="tspan2945">{</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="952.75812"
         id="tspan1546">public:</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="967.75812"
         id="tspan1548">  Implementation(): X(1) {}</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="982.75812"
         id="tspan1550">  Implementation(int X): X(X) {}</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="997.75812"
         id="tspan4310">  int A_F() { return this-&gt;X; }</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="1012.7581"
         id="tspan4312">  int B_F() { return this-&gt;X * 2; }</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="1027.7581"
         id="tspan2941">  int C_FF() { return this-&gt;X * 3; }</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="1042.7581"
         id="tspan1552">private:</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="1057.7581"
         id="tspan1554">  int X;</tspan><tspan
         sodipodi:role="line"
         x="221.22342"
         y="1072.7581"
         id="tspan4308">};</tspan></text>
    <path
       style="fill:none;fill-opacity:0.75000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000"
       d="M 101.01526,729.11337 L 253.54830,877.60579"
       id="path4314"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-opacity:0.75000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000"
       d="M 763.67533,836.18952 L 392.94934,876.59564"
       id="path4316"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="580.83765"
       y="448.29089"
       id="text5031"><tspan
         sodipodi:role="line"
         x="580.83765"
         y="448.29089"
         id="tspan5049">template&lt;class Implementation, class Base, class T = Base&gt;</tspan><tspan
         sodipodi:role="line"
         x="580.83765"
         y="463.29089"
         id="tspan5035">class implementation:</tspan><tspan
         sodipodi:role="line"
         x="580.83765"
         y="478.29089"
         id="tspan2943">  public implementation_base&lt;Implementation, Base, T, IUnknown&gt;</tspan><tspan
         sodipodi:role="line"
         x="580.83765"
         y="493.29089"
         id="tspan5059">{</tspan><tspan
         sodipodi:role="line"
         x="580.83765"
         y="508.29089"
         id="tspan5039">};</tspan></text>
    <path
       style="fill:none;fill-opacity:0.75000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000"
       d="M 156.57365,607.89507 L 187.88837,557.38744"
       id="path5045"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-opacity:0.75000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000"
       d="M 323.24882,552.33667 L 509.11688,604.86461"
       id="path5047"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="577.80731"
       y="277.5752"
       id="text2845"><tspan
         sodipodi:role="line"
         id="tspan2847"
         x="577.80731"
         y="277.57520">template&lt;class Implementation, class Base, class T, class Parent&gt;</tspan><tspan
         sodipodi:role="line"
         x="577.80731"
         y="292.57520"
         id="tspan2849">class implementation_base:</tspan><tspan
         sodipodi:role="line"
         x="577.80731"
         y="307.57520"
         id="tspan2951">  public implementation&lt;Implementation, Base, Parent&gt;</tspan><tspan
         sodipodi:role="line"
         x="577.80731"
         y="322.57520"
         id="tspan2851">{</tspan><tspan
         sodipodi:role="line"
         x="577.80731"
         y="337.57520"
         id="tspan2855">public:</tspan><tspan
         sodipodi:role="line"
         x="577.80731"
         y="352.57520"
         id="tspan2857">  implementation_base() </tspan><tspan
         sodipodi:role="line"
         x="577.80731"
         y="367.57520"
         id="tspan2897">  { </tspan><tspan
         sodipodi:role="line"
         x="577.80731"
         y="382.57520"
         id="tspan2899">    implementation_info::add_interface(__uuidof(T), static_cast&lt;T *&gt;(this));</tspan><tspan
         sodipodi:role="line"
         x="577.80731"
         y="397.57520"
         id="tspan2901">  }</tspan><tspan
         sodipodi:role="line"
         x="577.80731"
         y="412.57520"
         id="tspan2853">};</tspan></text>
    <path
       style="fill:none;fill-opacity:0.75000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000"
       d="M 256.57875,500.81889 L 255.56860,470.51431"
       id="path2863"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="34.345188"
       y="513.95087"
       id="text2871"><tspan
         sodipodi:role="line"
         id="tspan2873"
         x="34.345188"
         y="513.95087">template&lt;class Implementation, class Base&gt;</tspan><tspan
         sodipodi:role="line"
         x="34.345188"
         y="528.95087"
         id="tspan2875">class implementation&lt;Implementation, Base, IUnknown&gt;: </tspan><tspan
         sodipodi:role="line"
         x="34.345188"
         y="543.95087"
         id="tspan2881">  public implementation_base&lt;Implementation, Base, IUnknown, implementation_info&gt;</tspan><tspan
         sodipodi:role="line"
         x="34.345188"
         y="558.95087"
         id="tspan2877">{</tspan><tspan
         sodipodi:role="line"
         x="34.345188"
         y="573.95087"
         id="tspan2879">};</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="10.101512"
       y="370.50925"
       id="text2883"><tspan
         sodipodi:role="line"
         id="tspan2885"
         x="10.101512"
         y="370.50925">template&lt;class Implementation, class Base&gt;</tspan><tspan
         sodipodi:role="line"
         x="10.101512"
         y="385.50925"
         id="tspan2887">class implementation&lt;Implementation, Base, implementation_info&gt;: </tspan><tspan
         sodipodi:role="line"
         x="10.101512"
         y="400.50925"
         id="tspan2891">  protected virtual implementation_info,</tspan><tspan
         sodipodi:role="line"
         x="10.101512"
         y="415.50925"
         id="tspan1485">  public Base</tspan><tspan
         sodipodi:role="line"
         x="10.101512"
         y="430.50925"
         id="tspan2893">{</tspan><tspan
         sodipodi:role="line"
         x="10.101512"
         y="445.50925"
         id="tspan1477">protected:</tspan><tspan
         sodipodi:role="line"
         x="10.101512"
         y="460.50925"
         id="tspan1479">  Implementation &amp;get_implementation() { return *static_cast&lt;Implementation*&gt;(this); }</tspan><tspan
         sodipodi:role="line"
         x="10.101512"
         y="475.50925"
         id="tspan2895">};</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="572.75653"
       y="165.89929"
       id="text2903"><tspan
         sodipodi:role="line"
         id="tspan2905"
         x="572.75653"
         y="165.89929">class C: public B</tspan><tspan
         sodipodi:role="line"
         x="572.75653"
         y="180.89929"
         id="tspan2907">{</tspan><tspan
         sodipodi:role="line"
         x="572.75653"
         y="195.89929"
         id="tspan2911">public:</tspan><tspan
         sodipodi:role="line"
         x="572.75653"
         y="210.89929"
         id="tspan2913">  virtual int FF() = 0;</tspan><tspan
         sodipodi:role="line"
         x="572.75653"
         y="225.89929"
         id="tspan2909">};</tspan></text>
    <path
       style="fill:none;fill-opacity:0.75000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000"
       d="M 485.88338,183.07188 L 561.64482,201.25462"
       id="path2915"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="462.64987"
       y="622.48822"
       id="text2917"><tspan
         sodipodi:role="line"
         id="tspan2919"
         x="462.64987"
         y="622.48822">template&lt;class Implementation, class Base&gt;</tspan><tspan
         sodipodi:role="line"
         x="462.64987"
         y="637.48822"
         id="tspan2923">class implementation&lt;Implementation, Base, B&gt;:</tspan><tspan
         sodipodi:role="line"
         x="462.64987"
         y="652.48822"
         id="tspan2925">  public implementation_base&lt;Implementation, Base, B, IUnknown&gt;</tspan><tspan
         sodipodi:role="line"
         x="462.64987"
         y="667.48822"
         id="tspan2927">{</tspan><tspan
         sodipodi:role="line"
         x="462.64987"
         y="682.48822"
         id="tspan2931">public:</tspan><tspan
         sodipodi:role="line"
         x="462.64987"
         y="697.48822"
         id="tspan2935">  int F() { return this-&gt;get_implementation().B_F(); }</tspan><tspan
         sodipodi:role="line"
         x="462.64987"
         y="712.48822"
         id="tspan2929">};</tspan></text>
    <path
       style="fill:none;fill-opacity:0.75000000;fill-rule:evenodd;stroke:#000000;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000"
       d="M 485.88337,712.39181 L 604.07122,752.79791"
       id="path2937"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="630.33514"
       y="904.32074"
       id="text1468"><tspan
         sodipodi:role="line"
         id="tspan1470"
         x="630.33514"
         y="904.32074">template&lt;class T&gt;</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="919.32074"
         id="tspan1481">class implementation_instance:</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="934.32074"
         id="tspan1487">  public implementation_counter,</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="949.32074"
         id="tspan1489">  public T</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="964.32074"
         id="tspan1484">{</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="979.32074"
         id="tspan1490">public:</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="994.32074"
         id="tspan1500" /><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1009.3207"
         id="tspan1492">  implementation_instance() {}</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1024.3207"
         id="tspan1502" /><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1039.3207"
         id="tspan1496">  template&lt;class P&gt;</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1054.3207"
         id="tspan1494">  implementation_instance(const P &amp;X): T(X) {}</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1069.3207"
         id="tspan1498" /><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1084.3207"
         id="tspan1504">  ULONG AddRef() { return implementation_counter::add_ref(); }</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1099.3207"
         id="tspan1506">  ULONG Release() { return implementation_counter::release(); }</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1114.3207"
         id="tspan1508">  HRESULT QueryInterface(REFIID U, void **PP)</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1129.3207"
         id="tspan1510">  { </tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1144.3207"
         id="tspan1512">     return implementation_info::query_interface(U, PP); </tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1159.3207"
         id="tspan1514">  }</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1174.3207"
         id="tspan1486">};</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1189.3207"
         id="tspan1528" /><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1204.3207"
         id="tspan1530">template&lt;class T&gt;</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1219.3207"
         id="tspan1532">struct new_result</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1234.3207"
         id="tspan1534">{</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1249.3207"
         id="tspan1538">  typedef object&lt;implementation_instance&lt;T&gt; &gt; type;</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1264.3207"
         id="tspan1536">};</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1279.3207"
         id="tspan1488" /><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1294.3207"
         id="tspan1480">template&lt;class T&gt;</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1309.3207"
         id="tspan1472">typename new_result&lt;T&gt;::type new_()</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1324.3207"
         id="tspan1474">{</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1339.3207"
         id="tspan1478">  return new implementation_instance&lt;T&gt;();</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1354.3207"
         id="tspan1476">}</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1369.3207"
         id="tspan1516" /><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1384.3207"
         id="tspan1518">template&lt;class T, class P&gt;</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1399.3207"
         id="tspan1520">typename new_result&lt;T&gt;::type new_(const P &amp;X)</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1414.3207"
         id="tspan1522">{</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1429.3207"
         id="tspan1526">  return new implementation_instance&lt;T&gt;(X);</tspan><tspan
         sodipodi:role="line"
         x="630.33514"
         y="1444.3207"
         id="tspan1524">}</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:12.000000px;font-style:normal;font-weight:normal;fill:#000000;fill-opacity:1.0000000;stroke:none;stroke-width:1.0000000px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1.0000000;font-family:Bitstream Vera Sans"
       x="153.5432"
       y="1134.6356"
       id="text1540"><tspan
         sodipodi:role="line"
         id="tspan1542"
         x="153.54320"
         y="1134.6356">object&lt;A&gt; a = new_&lt;Implementation&gt;();</tspan><tspan
         sodipodi:role="line"
         x="153.54320"
         y="1149.6356"
         id="tspan1544">object&lt;B&gt; b = new_&lt;Implementation&gt;(2);</tspan><tspan
         sodipodi:role="line"
         x="153.54320"
         y="1164.6356"
         id="tspan1493">new_result&lt;Implementation&gt;::type q = new_&lt;Implementation&gt;(3);</tspan><tspan
         sodipodi:role="line"
         x="153.54320"
         y="1179.6356"
         id="tspan1467" /><tspan
         sodipodi:role="line"
         x="153.54320"
         y="1194.6356"
         id="tspan1469">ASSERT(a.F() == 1);</tspan><tspan
         sodipodi:role="line"
         x="153.54320"
         y="1209.6356"
         id="tspan1471">ASSERT(b.F() == 4);</tspan><tspan
         sodipodi:role="line"
         x="153.54320"
         y="1224.6356"
         id="tspan1495">ASSERT(object&lt;C&gt;(q).FF() == 9);</tspan><tspan
         sodipodi:role="line"
         x="153.54320"
         y="1239.6356"
         id="tspan1473">ASSERT(new_&lt;Implementation&gt;(4)-&gt;C_FF() == 12);</tspan></text>
  </g>
</svg>
